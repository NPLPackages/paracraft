<!-- "script/apps/Aries/Creator/Game/NplBrowser/pe_nplbrowser_template.html?noTitle=true&url=" -->
<pe:mcml>
<script type="text/npl" refresh="true">
<![CDATA[
    NPL.load("(gl)script/apps/Aries/Creator/Game/NplBrowser/NplBrowserPage.lua");
    local NplBrowserPage = commonlib.gettable("NplBrowser.NplBrowserPage");
    local pageCtrl = document:GetPageCtrl();
    local npl_browser_page = pageCtrl.npl_browser_page;
    local url = pageCtrl:GetRequestParam("url")
    function DoClose()
        if(npl_browser_page)then
		    npl_browser_page:Close()
        end
    end
    function GetUrl()
        return url or (npl_browser_page and npl_browser_page.url);
    end
    function IsShowControl()
        if(npl_browser_page)then
            return npl_browser_page.withControl;
        end
    end
    function GetTitle()
        if(npl_browser_page)then
            return npl_browser_page.title or L"NPL浏览器";
        end
    end
    function hasTitle()
        if(not pageCtrl:GetRequestParam("noTitle")) then
            return true;
        end
    end
]]>
</script>
<div width="100%" height="100%" style="background-color:#000000;">
    <pe:if condition="<%=hasTitle()%>">
        <div style="height:30px;" >
            <div style="position:relative;margin-left:5px;margin-top:2px;color:#ffffff;"><%=GetTitle()%></div>
            <input type="button" value="X" align="right" style="width:50px;height:30px;" onclick="DoClose()" class="mc_light_grey_button_with_fillet"/>
        </div>
    </pe:if>
    <pe:container width="100%" height="100%" style="background:url()">
        <pe:nplbrowser visible="true" name="nplbrowser_instance" withControl="<%=IsShowControl()%>" enabledResize="true" url="<%=GetUrl()%>"/>
    </pe:container>
</div>
</pe:mcml>


