<!-- "script/apps/Aries/Creator/Game/Tasks/FindBlockTask.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>
<pe:mcml>
<script refresh="true" type="text/npl" src="FindBlockTask.lua"><![CDATA[
GameLogic = commonlib.gettable("MyCompany.Aries.Game.GameLogic")
FindBlockTask = commonlib.gettable("MyCompany.Aries.Game.Tasks.FindBlockTask")
FindBlockTask.OnInit();
]]></script>
<aries:window style="width:512px;" title='<%=L"搜索"..L": 左键传送，右键预览，Alt吸取，Ctrl编辑"%>' mode="thin" uiname_onclose="FindBlockTask.OnClose" onclose="FindBlockTask.OnClose">
    <div style="margin:10px;color:#ffffff;font-size:14px;">
        <div class="mc_paper_panel">
            <pe:treeview name="result" style="background:;height:256px;" VerticalScrollBarStep="20" DefaultNodeHeight="20" DataSource='<%=FindBlockTask.GetDataSource()%>' ItemToggleSize="0" ItemToggleRightSpacing="0" ShowIcon="true" DefaultIndentation="0">
                <NodeTemplates>
                    <NodeTemplate DataType="block">
                        <pe:treenode icon='<%=XPath("this|icon")%>' icon_tooltip='<%=XPath("this|class_name")%>' selected='<%=FindBlockTask.GetSelectedResultIndex() == XPath("this|index")%>' OnClick="FindBlockTask.OnClickItem" uiname='<%="FindBlockTask.sel_"..XPath("this|index")%>' text='<%=format("%s", XPath("this|name") or "")%>' ></pe:treenode>
                    </NodeTemplate>
                </NodeTemplates>
            </pe:treeview>
        </div>
        <div style="margin-top:5px;">
            <div style="position:relative">
                <input type="text" autofocus="true" onkeyup="FindBlockTask.OnKeyUp" onchange="FindBlockTask.OnTextChange" uiname="FindBlockTask.text" name="text" style="margin-right:100px;height:24px" />
            </div>
            <input type="button" DefaultButton="true" align="right" uiname="FindBlockTask.ok" name="ok" value='<%=L"确定"%>' onclick="FindBlockTask.OnOpen" style="width:80px;" class="mc_light_grey_button_with_fillet" />
        </div>
        <div style="margin-top:5px;">
            <input type="checkbox" style="margin-top:1px;margin-right:3px;" checked="true" uiname="FindBlockTask.checkAll" name="checkAll"/><div uiname="FindBlockTask.checkAll_for" for="checkAll" style="float:left;font-size:10px;color:#808080"><%=L"全部: 代码方块,告示牌..."%></div>
            <input type="button" align="right" uiname="FindBlockTask.cancel" name="cancel" value='<%=L"取消"%>' onclick="FindBlockTask.OnClose" style="width:80px;margin-left:20px;" class="mc_light_grey_button_with_fillet" />
        </div>
    </div>
</aries:window>
</pe:mcml> 
</body>
</html>
