<!-- "script/apps/Aries/Creator/Game/Tasks/RedSummerCamp/RedSummerCampCommonPage.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>
<pe:mcml>
<script refresh="true" type="text/npl" src="RedSummerCampCommonPage.lua">
<![CDATA[
local RedSummerCampCommonPage = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/RedSummerCamp/RedSummerCampCommonPage.lua");
RedSummerCampCommonPage.OnInit()
function ClosePage()
    local pageCtrl = document:GetPageCtrl();
    pageCtrl:CloseWindow(true)
end

function GetData(name)
    return RedSummerCampCommonPage.GridData[1][name]
end

function GetContent()
    --return RedSummerCampCommonPage.GetPageDt().content
end

function GridData(index)
    if(index == nil) then
        return #RedSummerCampCommonPage.GridData;
    else
        return RedSummerCampCommonPage.GridData[index];
    end
end

function ClickLBBt()
    RedSummerCampCommonPage.ClickLBBt()
end

function ClickRBBt()
    RedSummerCampCommonPage.ClickRBBt()
end

function OpenVip()
    local name = RedSummerCampCommonPage.name or "RedSummerCampCommonPage"
    local VipPage = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/User/VipPage.lua");
    VipPage.ShowPage(name);
end

function IsAiSchoolType()
    return RedSummerCampCommonPage.IsAiSchoolType()
end

function ClickCustomerService()
    --GameLogic.AddBBS(nil, L"敬请期待");
    ParaGlobal.ShellExecute('open', L'https://wpa1.qq.com/TxyKupLK?_type=wpa&qidian=true', '', '', 1)
end

function ClickVisitSchool()
    local ParaWorldList = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/ParaWorld/ParaWorldList.lua");
    ParaWorldList.ShowPage();
    --GameLogic.GetFilters():apply_filters('show_offical_worlds_page', nil, nil, "场景")
end

function ClickApply()
    --[[GameLogic.GetFilters():apply_filters('cellar.my_school.after_selected_school', function ()
        local KeepWorkItemManager = NPL.load("(gl)script/apps/Aries/Creator/HttpAPI/KeepWorkItemManager.lua");
        KeepWorkItemManager.LoadProfile(false, function()
            local profile = KeepWorkItemManager.GetProfile()
            -- 是否选择了学校
            if profile and profile.schoolId and profile.schoolId > 0 then
                NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/Quest/QuestAction.lua");
                local QuestAction = commonlib.gettable("MyCompany.Aries.Game.Tasks.Quest.QuestAction");
                QuestAction.AchieveTask("40003_1", 1, true)
            end
        end)
    end);]]--

    GameLogic.AddBBS(nil, L"敬请期待");
end
]]>
</script>
<style type="text/mcss">
    {
        yellon_button = {
            background = "Texture/Aries/Creator/keepwork/SchoolCenter/btn_qiehuan_32X32_32bits.png#0 0 32 32:8 8 8 8",
            ["base-font-size"] = 20,
            ["font-size"] = 20,
            ["font-weight"] = "bold",
            width = 152,
            height = 52,
            float = "left",
        },
    }
</style>

<pe:container alignment="_fi" width="100%" height="100%" class="red_summer_camp_bg">
    <!--Vip-->
    <pe:container alignment="_rt" style="background:url();">
        <%=GameLogic.GetFilters():apply_filters('get_vip_time_icon_div', 7, "OpenVip")%>
        <input type="button" value='' onclick="OpenVip" class="red_summer_camp_open_vip_btn" style="margin-right:20px;margin-top:5px;" />
    </pe:container>
    <!--Close-->
    <pe:container alignment="_lt" style="width:171px;height:58px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/courses_32bits.png#7 248 171 58);">
        <input type="button" onclick="ClosePage" class="red_summer_camp_back_arrow" style="margin-left:30px;margin-top:10px;" />
    </pe:container>
    
    <pe:container alignment="_ct" style="margin-left:-640px;margin-top:-360px;width:1280px;height:720px;background:url();">
        <!--背景水印-->
        <div>
            <div style="position:relative;margin-left:24px;margin-top:104px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:557px;margin-top:26px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:103px;margin-top:282px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:879px;margin-top:311px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:438px;margin-top:477px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
        </div>
        <div style="width: 1242px; height: 626px;margin-left: 15px;margin-top: 25px; background: url(Texture/Aries/Creator/keepwork/RedSummerCamp/shentongbei/shentongbei_32bits.png#0 0 512 625:150 145 100 150);">
            <div name="title" style="margin-top: 25px; text-align: center;font-weight: bold; width: 1242px; height: 60px; font-size: 40px; base-font-size:40px; color: #212122;font-weight: bold;"><%=GetData("title")%></div>
            <div name="logo" style="float: left;margin-top: 20px; margin-left: 38px; width: 630px; height: 402px; background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/courses_32bits.png#157 95 80 80: 30 30 30 30);">
                <img width="602" height="374" style="margin-left: 14px; margin-top: 14px;" src='<%=GetData("img")%>'/>
            </div>
            <div style="float: left; width: 530px; height: 402px;margin-left: 20px;margin-top: 25px;">

                <div type ="box" style="width:510px;height:402px;margin-left: -3px;">
                    <pe:gridview style="margin:0px;width:510px;height:402px;float:left" RememberScrollPos="true" name="item_gridview" CellPadding="0" VerticalScrollBarStep="36" VerticalScrollBarOffsetX="8" AllowPaging="false" 
                    ItemsPerLine="1" DefaultNodeHeight = "35" DataSource='<%=GridData%>'>
                        <Columns>
                            <div style="width: 480px;color: #212122;">
                                <div style="base-font-size:30px; font-size: 30px;font-weight: bold;">
                                    <%=Eval("begain_time")%>
                                </div>
                                <div style="base-font-size:30px; font-size: 30px;font-weight: bold;">
                                    <%=Eval("end_time")%>
                                </div>

                                <div style="base-font-size:20px; font-size: 20px;">
                                    <%=Eval("content")%>
                                </div>
                            </div>
                                
                        </Columns>
                        <EmptyDataTemplate>
                        </EmptyDataTemplate>
                    </pe:gridview>
                </div>
            </div>

            <pe:if condition="<%=IsAiSchoolType()%>">
                <div style="width: 1242px;">
                    <!-- <input type="button" onclick="ClickLBBt" value='<%=GetData("lb_bt_desc")%>' style="position: relative; margin-left: 150px; margin-top: 0px;color: #1335a0;font-weight: bold; font-size: 16px; base-font-size:16px;width: 120px; height: 80px; background:;"/> -->
                    <input type="button" value='' onclick="ClickCustomerService" style="float: left; margin-left:540px;margin-top:32px;width: 63px;height: 20px; background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/main/zi3_63X20_32bits.png#0 0 63 20)" />
                    <input type="button" value='' onclick="ClickVisitSchool" style="float: left; margin-left:20px;margin-top:32px;width: 191px;height: 20px; background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/main/zi2_191X20_32bits.png#0 0 191 20)" />
                    <input type="button" value='' onclick="ClickApply" style="float: left; margin-left:-20px;margin-top:32px;width: 191px;height: 20px; background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/main/zi1_191X20_32bits.png#0 0 191 20)" />
                    <input type="button" value='<%=GetData("rb_bt_desc")%>' onclick="ClickRBBt" class="yellon_button" style="float: left;margin-left:20px;margin-top:15px;" />
                </div>
            </pe:if>
            <pe:if condition="<%=not IsAiSchoolType()%>">
                <div style="width: 1242px;">
                    <input type="button" onclick="ClickLBBt" value='<%=GetData("lb_bt_desc")%>' style="position: relative; margin-left: 150px; margin-top: 0px;color: #1335a0;font-weight: bold; font-size: 16px; base-font-size:16px;width: 120px; height: 80px; background:;"/>
                    <input type="button" value='<%=GetData("rb_bt_desc")%>' onclick="ClickRBBt" class="yellon_button" style="margin-left:1010px;margin-top:15px;" />
                </div>
            </pe:if>

        </div>
    </pe:container>
    <pe:container alignment="_lb" style ="width: 100px;height: 60px;background:url();">
        
    </pe:container>
    
</pe:container>

</pe:mcml>
</body>
</html>

