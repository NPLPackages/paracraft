<!-- "script/apps/Aries/Creator/Game/Tasks/RedSummerCamp/RedSummerCampMainWorldPage.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>
<pe:mcml>
<script refresh="true" type="text/npl" src="RedSummerCampMainWorldPage.lua">
<![CDATA[
local RedSummerCampMainWorldPage = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/RedSummerCamp/RedSummerCampMainWorldPage.lua");
RedSummerCampMainWorldPage.OnInit()
function ClosePage()
    local pageCtrl = document:GetPageCtrl();
    pageCtrl:CloseWindow(true)
end

function GetData(name)
    return RedSummerCampMainWorldPage.GridData[1][name]
end

function GetContent()
    --return RedSummerCampMainWorldPage.GetPageDt().content
end

function GridData(index)
    if(index == nil) then
        return #RedSummerCampMainWorldPage.GridData;
    else
        return RedSummerCampMainWorldPage.GridData[index];
    end
end

function ClickLBBt()
    RedSummerCampMainWorldPage.ClickLBBt()
end

function ClickRBBt()
    RedSummerCampMainWorldPage.ClickRBBt()
end

function OpenVip()
    local name = RedSummerCampMainWorldPage.name or "RedSummerCampMainWorldPage"
    local VipPage = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/User/VipPage.lua");
    VipPage.ShowPage(name);
end

function IsAiSchoolType()
    return RedSummerCampMainWorldPage.IsAiSchoolType()
end

function ClickCustomerService()
    GameLogic.AddBBS(nil, L"敬请期待");
end

function ClickVisitSchool()
    GameLogic.GetFilters():apply_filters('show_offical_worlds_page', nil, nil, "场景")
end

function ClickApply()
    GameLogic.GetFilters():apply_filters('cellar.my_school.after_selected_school', function ()
        local KeepWorkItemManager = NPL.load("(gl)script/apps/Aries/Creator/HttpAPI/KeepWorkItemManager.lua");
        KeepWorkItemManager.LoadProfile(false, function()
            local profile = KeepWorkItemManager.GetProfile()
            -- 是否选择了学校
            if profile and profile.schoolId and profile.schoolId > 0 then
                NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/Quest/QuestAction.lua");
                local QuestAction = commonlib.gettable("MyCompany.Aries.Game.Tasks.Quest.QuestAction");
                QuestAction.AchieveTask("40003_1", 1, true)
            end
        end)
    end);
end

function ClickItem(name)
    local url
    if name == "teacher" then
        url = "https://keepwork.com/official/docs/teach/lessons/teacher_guide"
    elseif name == "assessment" then
        url = "https://keepwork.com/official/docs/teach/lessons/paracraft_exams"
    elseif name == "learn" then
        url = "https://keepwork.com/official/docs/index"
    else
        url = "https://keepwork.com/official/docs/teach/lessons/small_proj_list"
    end
    ParaGlobal.ShellExecute("open", url, "", "", 1); 
end

function ClickLearnBt()
    local RedSummerCampCourseScheduling = NPL.load("(gl)script/apps/Aries/Creator/Game/Tasks/RedSummerCamp/RedSummerCampCourseScheduling.lua") 
    RedSummerCampCourseScheduling.ShowView()
end

function ClickWinter()
    GameLogic.RunCommand(string.format("/loadworld -s -auto %s", 132939))
end
]]>
</script>
<style type="text/mcss">
    {
        yellon_button = {
            background = "Texture/Aries/Creator/keepwork/SchoolCenter/btn_qiehuan_32X32_32bits.png#0 0 32 32:8 8 8 8",
            ["base-font-size"] = 20,
            ["font-size"] = 20,
            ["font-weight"] = "bold",
            width = 192,
            height = 52,
            float = "left",
        },

        item_image = {
            background = "Texture/Aries/Creator/keepwork/RedSummerCamp/main/bjk_64X64_32bits.png#0 0 64 64:24 24 24 24",
            width = 128,
            height = 128,
            float = "left",
            ["margin-left"] = 0,
        },
    }
</style>

<pe:container alignment="_fi" width="100%" height="100%" class="red_summer_camp_bg">
    <!--Vip-->
    <pe:container alignment="_rt" style="background:url();">
        <input type="button" value='' onclick="OpenVip" class="red_summer_camp_open_vip_btn" style="margin-right:20px;margin-top:5px;" />
    </pe:container>
    <!--Close-->
    <pe:container alignment="_lt" style="width:171px;height:58px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/courses_32bits.png#7 248 171 58);">
        <input type="button" onclick="ClosePage" class="red_summer_camp_back_arrow" style="margin-left:30px;margin-top:10px;" />
    </pe:container>
    
    <pe:container alignment="_ct" style="margin-left:-640px;margin-top:-360px;width:1280px;height:720px;background:url();">
        <!--背景水印-->
        <div>
            <div style="position:relative;margin-left:24px;margin-top:104px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:557px;margin-top:26px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:103px;margin-top:282px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:879px;margin-top:311px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
            <div style="position:relative;margin-left:438px;margin-top:477px;width:512px;height:256px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/watermark_bg_32bits.png);" />
        </div>
        <div style="width: 1280px; height: 720px;margin-left: 15px;margin-top: 25px; background: url();">
            <!-- <div name="title" style="margin-top: 25px; text-align: center;font-weight: bold; width: 1242px; height: 60px; font-size: 40px; base-font-size:40px; color: #212122;font-weight: bold;"><%=GetData("title")%></div> -->
            <div name="logo" style="float: left;margin-top: 40px; margin-left: 38px; width: 630px; height: 482px; background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/courses/courses_32bits.png#157 95 80 80: 30 30 30 30);">
                <img width="602" height="454" style="margin-left: 14px; margin-top: 14px;" src='<%=GetData("img")%>'/>
            </div>
            <div style="float: left; width: 530px; height: 402px;margin-left: 20px;margin-top: 45px;">

                <div type ="box" style="width:510px;height:305px;margin-left: -3px;">
                    <pe:gridview style="margin:0px;width:510px;height:305px;float:left" RememberScrollPos="true" name="item_gridview" CellPadding="0" VerticalScrollBarStep="36" VerticalScrollBarOffsetX="8" AllowPaging="false" 
                    ItemsPerLine="1" DefaultNodeHeight = "35" DataSource='<%=GridData%>'>
                        <Columns>
                            <div style="width: 480px;color: #212122;">
                                <div style="base-font-size:30px; font-size: 30px;font-weight: bold;">
                                    <%=Eval("begain_time")%>
                                </div>
                                <div style="base-font-size:30px; font-size: 30px;font-weight: bold;">
                                    <%=Eval("end_time")%>
                                </div>

                                <div style="base-font-size:20px; font-size: 20px;">
                                    <%=Eval("content")%>
                                </div>
                            </div>
                                
                        </Columns>
                        <EmptyDataTemplate>
                        </EmptyDataTemplate>
                    </pe:gridview>
                </div>

                <div style="width: 490px;height: 2px; background-color: #212122; margin-top: 18px;"></div>

                <div style="width: 530px;margin-top: 14px; margin-left: -10px;">
                    <div zorder="-2" name="teacher" class="item_image">
                        <div zorder="-2" onclick="ClickItem" name='teacher' style="width:114px;height:110px; margin-left: 7px;margin-top: 4px;position: relative;background:; background2:url(Texture/Aries/Creator/keepwork/RedSummerCamp/works/works_32bits.png#13 112 70 66: 25 25 25 25)"></div>
                        <div zorder="-1" style="position: relative; margin-left: 15px;margin-top: 9px; width: 98px; height: 98px; background: url(Texture/Aries/Creator/keepwork/RedSummerCamp/shentongbei/course_32bits.png#0 0 98 98);"></div>
                        <div style="position: relative; width: 98px; margin-left: 15px;margin-top: 82px; right: 2px; height: 24px; text-align: center; color: #ffffff; background-color: #00000090;">老师培训</div>
                    </div>
                    <div zorder="-2" name="assessment" class="item_image">
                        <div zorder="-2" onclick="ClickItem" name='assessment' style="width:114px;height:110px; margin-left: 7px;margin-top: 4px;position: relative;background:; background2:url(Texture/Aries/Creator/keepwork/RedSummerCamp/works/works_32bits.png#13 112 70 66: 25 25 25 25)"></div>
                        <div zorder="-1" style="position: relative; margin-left: 15px;margin-top: 9px; width: 98px; height: 98px; background: url(Texture/Aries/Creator/keepwork/RedSummerCamp/shentongbei/qualification_32bits.png#0 0 98 98);"></div>
                        <div style="position: relative; width: 98px; margin-left: 15px;margin-top: 82px; right: 2px; height: 24px; text-align: center; color: #ffffff; background-color: #00000090;">自我评测</div>
                    </div>
                    <div zorder="-2" name="learn" class="item_image">
                        <div zorder="-2" onclick="ClickItem" name='learn' style="width:114px;height:110px; margin-left: 7px;margin-top: 4px;position: relative;background:; background2:url(Texture/Aries/Creator/keepwork/RedSummerCamp/works/works_32bits.png#13 112 70 66: 25 25 25 25)"></div>
                        <div zorder="-1" style="position: relative; margin-left: 15px;margin-top: 9px; width: 98px; height: 98px; background: url(Texture/Aries/Creator/keepwork/RedSummerCamp/shentongbei/competition_32bits.png#0 0 98 98);"></div>
                        <div style="position: relative; width: 98px; margin-left: 15px;margin-top: 82px; right: 2px; height: 24px; text-align: center; color: #ffffff; background-color: #00000090;">学习资料</div>
                    </div>
                    <div zorder="-2" name="project_list" class="item_image">
                        <div zorder="-2" onclick="ClickItem" name='project_list' style="width:114px;height:110px; margin-left: 7px;margin-top: 4px;position: relative;background:; background2:url(Texture/Aries/Creator/keepwork/RedSummerCamp/works/works_32bits.png#13 112 70 66: 25 25 25 25)"></div>
                        <div zorder="-1" style="position: relative; margin-left: 15px;margin-top: 9px; width: 98px; height: 98px; background: url(Texture/Aries/Creator/keepwork/RedSummerCamp/common/tu2_98X98_32bits.png#0 0 98 98);"></div>
                        <div style="position: relative; width: 98px; margin-left: 15px;margin-top: 82px; right: 2px; height: 24px; text-align: center; color: #ffffff; background-color: #00000090;">小项目列表</div>
                    </div>
                </div>
            </div>

            <div></div>

            <div style="width: 1242px; margin-left: 50px;">
                <input type="button" value='课程' class="yellon_button" onclick="ClickLearnBt" style="position: relative;width: 143px; margin-left: 625px; margin-top: 20px;"/>
                <input type="button" value='<%=GetData("rb_bt_desc")%>' onclick="ClickRBBt" class="yellon_button" style="margin-left:785px;margin-top:20px;" />
                <input type="button" value='冬季运动会(3D) ' onclick="ClickWinter" class="yellon_button" style="margin-left:995px;margin-top:-52px;" />
                <!-- <div zorder="2" style="position: relative;margin-left: 812px; margin-top: -70px; width: 38px;height: 42px;background:url(Texture/Aries/Creator/keepwork/RedSummerCamp/main/zi2_48X53_32bits.png#0 0 48 53)"></div> -->
            </div>

        </div>
    </pe:container>
    <pe:container alignment="_lb" style ="width: 100px;height: 60px;background:url();">
        
    </pe:container>
    
</pe:container>

</pe:mcml>
</body>
</html>

